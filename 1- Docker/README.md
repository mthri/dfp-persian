<!DOCTYPE html>
<html lang="fa">
<head>

</head>
<body>
 <div dir="rtl" >
  
 <i> 
 <h1>
  فصل یک: داکر
 </h1>
 </i> 
  
 <p>
با وجود تمامی پیشرفت ها در برنامه نویسی مدرن، پیکربندی اصولی یک محیط توسعه محلی همچنان
 یک چالش بزرگ است. در یک پروژه فاکتورهای متعددی از قبیل کامپیوتر های مختلف، سیستم عامل های مختلف، نسخه های گوناگون جنگو، موارد مختلفی از یک محیط مجازی و غیره وجود دارد. اما چالش زمانی بزرگتر میشود که باید در یک محیط تیمی کار کنیم که همه افراد به پیکربندی یکسانی [از محیط توسعه] نیاز دارند.
 </p>
  
 <p>
راه حلی بنام <b>'داکر'</b> در سالهای اخیر پدیدار شده است. اگر چه عمری از پیدایش آن نمیگذرد، اما بسرعت تبدیل به گزینه ی اصلی برای توسعه دهندگانی شد که در سطح تولید کار میکنند.
سرانجام، با استفاده از داکر میتوان یک محیط توسعه ی محلی قابل اعتماد و منسجمی بوجود آورد که از ورژن مدنظر پایتون و نصب جنگو گرفته تا سرویس های مازادی در کنار آنها نظیر پایگاه داده ها را شامل میشود. این به این معناست که دیگر مهم نیست شما از چه سیستم عاملی (مک، لینوکس، ویندوز) استفاده میکنید، چراکه همه چیز در خود داکر در حال اجراست. همچنین داکر همکاری در محیط های تیمی را رفته رفته آسان تر میکند.
آن زمان  که از فایل های طولانی و قدیمی README برای افزودن یه محیط توسعه جدید در پروژه های گروهی استفاده میکردیم دیگر گذشته است. در عوض داکر این امکان را میدهد که به سادگی دو فایل <i>Dockerfile</i> و <i>docker-compose.yml</i>  را به اشتراک بگذارید و توسعه دهنده میتواند اطمینان داشته باشد که محیط توسعه محلی او همانند سایر اعضای تیم است.
 </p>
  
 <p>
داکر یک فناوری کامل نیست و نسبتا نوپا است که زیر ساخت های آن در حال توسعه هستند. اما میتوان این نوید را داد که یک محیط توسعه سازگار و قابل اشتراک است که قادر است بصورت محلی روی هر رایانه یا سروری اجرا شود که همین موضوع آن را به انتخابی مناسب تبدیل میکند.
در این فصل، کمی بیشتر درباره داکر و داکراسیون کردن (dockerize) اولین پروژه جنگو می آموزیم.
  <br>
  <br>
  <i> 
پ.ن: داکراسیون: پیکربندی داکر متناسب با پروژه و همگام سازی آنها با یکدیگر
</i> 
   </p>
  
  
 <h1> 
  داکر چیست?
 </h1>
  
  <p>
   داکر ابزاری است که سیستم عامل نصبی روی سیستم شما را بوسیله پیمانه های لینوکسی از سایر اجزا مجزا میکند. این روشی برای مجازی سازی میباشد.
   <br><br>
   پ.ن: قبل از آشنایی با پیمانه ها(containers)، ابتدا باید مفهوم image را درک کنیم.
  </p>
  
  
  <p>
  ریشه مجازی سازی به ابتدای علوم کامیوتر برمیگردد، زمانی که ابر کامپیوتر ها رایج بودند.
این سوال بوجود آمد که "چند برنامه نویس چگونه میتوانند از یک رایانه بطور همزمان استفاده کنند؟"
پاسخ، مجازی سازی بود؛ بالاخص ماشین های مجازی که نسخه کاملی از کامپیوتر ها به همراه سیستم عامل آنها بود.
  </p>
  
  
  <p>
 اگر شما یک فضای ابری در سرویس های ارائه دهنده مثل آمازون تهیه کنید، این چنین نیست که یک سخت افزار اختصاصی به شما ارائه دهند. در عوض شما هستید که یک سرور فیزیکی را با سایر مشتریان به اشتراک میگذارید. اما چونکه مشتریان ماشین های مجازی خود را روی سرور آمازون اجرا میکنند، بنظر میرسد هرکس برای خودش یک سرور اختصاصی دارد.  این فناوری امکان افزودن یا حذف سرور از فضای ابری را ممکن میسازد. این فناوری تا حدی بسیار زیادی توسط نرم افزار ها پشتیبانی میشوند و سخت افزار ها بطور کامل در این تغییرات دخیل نیستند.
 </p>
  
  
  <p>
 و اما! 
 <b>
  نقطه ضعف ماشین های مجازی چیست؟
 </b> 
اندازه و سرعت دو تا از چالش های هستند.
یک سیستم عامل معمولی به راحتی میتواند ۷۰۰ مگابایت حجم داشته باشد. بنابراین اگر یک سرور فیزیکی از سه ماشین مجازی (۳×۷۰۰) پشتیبانی  کند، ۲.۱ گیگابایت از فضای دیسک بعلاوه ی نیاز های سی پی یو . منابع حافظه اشغال میشود.
  </p>
  
  <p>
   <b>
    خوب راه حل چیست؟ از داکر استفاده کنید.
   </b>
ایده اصلی این است که اکثر رایانه ها از یک سیستم عامل لینوکس استفاده میکنند.
حال اگر مجازی سازی را از لایه های بالایی لینوکس شروع کنیم چه میشود؟ (منظور این است که از هسته اصلی لینوکس شروع نکنیم) آیا حجم کمتر و سرعت بیشتری ارائه نمیشود.
راه حلی برای تکرار عملکرد های مشابه در پروژه است؟ 
پاسخ بله است. راه حل این چالش ها پیمانه های لینوکسی هستند که در سالهای اخیر بسیار محبوب شده اند. برای برنامه نویس ها بویژه وب اپلیکیشن ها (همچون جنگو) ماشین های مجازی و پیمانه های لینوکسی منابعی بیش از آنچه که نیاز است ارائه میدهند.  این اساسا همان چیزی است که داکر ارائه میدهد: راهی برای پیاده سازی پیمانه های لینوکسی.
  </p>
  
  
  
  <p>
   بهترین تشبیهی که میتوانیم اینجا بکار ببریم، محله و آپارتمان هستند. فرض کنید ماشین مجازی همان محله است. در هر محله ساختمان های مجزا از هم با زیر ساخت های خاص خود وجود دارد. از جمله لوله کشی، سیستم گرمایش، حمام و آشپزخانه.
پیمانه های ماشین مجازی همان ساختمان ها هستند
که در لوله کشی و سیستم گرمایش مشترک هستند، 
اما ظرفیت هر کدام از این بخش ها در ساختمان های مختلف بسته به نیاز مالک ساختمان و تعداد خانوار ها متفاوت است.
  </p>
  
  
  <h1>
   پیمانه ها (containers) در مقایسه با محیط های مجازی:
  </h1>
  
  <p>
  شما بایستی از قبل بعنوان یک برنامه نویس پایتون با مفهوم محیط های مجازی که راهی برای ایزوله کردن پکیج های پایتونی هستند آشنا باشید.
جا داره از این محیط مجازی یه تشکری کنیم (:
با وجود محیط مجازی در یک کامپیوتر میتوانیم بصورت محلی چند پروژه را اجرا کنیم. مثلا: فرض کنید یک پروژه از پایتون نسخه ۳.۴ و جنگو ۱.۱۱ استفاده میکند، در حالی که پروژه دیگر از پایتون ۳.۸ و جنگو ۳.۱ بهره گرفته است.
با ایجاد یک محیط مجازی اختصاصی برای هر یک از این دو پروژه میتوان پکیج های متفاوت را در حین آلوده نکردن سیستم کامپیوتری [که بخاطر نصب نسخه های مختلف از یک پکیج ایجاد میشوند] مدیریت کرد.
   <br><br>
   در حال حاضر، چند ابزار محبوب برای پیاده سازی محیط مجازی وجود دارد:
   <ul>
     <li><code>venv</code></li>
     <li><code>Pipenv</code></li>
     <li><code>virtualenv</code></li>
  </ul>
  اما اساسا همه اینها یک کار انجام میدهند.
  </p>
  
   <p>
 مهم ترین فرق بین محیط های مجازی و داکر این است که، محیط های مجازی فقط میتوانند از پکیج های پایتونی پشتیبانی کنند. مثلا قابلیت نصب برنامه هایی که پایتونی نیستند (مثل PostgreSQL یا MySQL) ندارند. چرا که این برنامه ها بایستی در سیستم اصلی کامپیوتر شما بصورت محلی نصب باشند.
به بیانی دیگر،  محیط های مجازی فقط و فقط به اشاره به پایتون و هر آنچه که از جنس پایتون است دارد و خود به تنهایی شامل این موارد نیست.
   </p>
 
 <p>
پیمانه های لینوکسی یک قدم فرا تر رفته، نه فقط بخش های مربوط به پایتون را بلکه کل سیستم عامل و هر چیزی که در آن نصب است را تفکیک میکند.
 مثلا هم میتوان پایتون و موارد مربوط به نوع دیتا بیس [از قبیل MySQL] را در داکر نصب و اجرا کنیم.
 </p>
 
 <p>
 داکر به خودی خود موضوعی پیچیده است و ما در این کتاب عمیقا آن را برسی نمیکنیم.
درک مفاهیم اولیه و نکات کلیدی آن مهم است. اگر میخواهید در این باره بیشتر بدانید، توصیه میکنم سری به <a href="https://diveintodocker.com/ref-dfp">Dive into Docker video course</a> بزنید (:
 </p>
 
 </div>
 
</body>
 
</html>
 
